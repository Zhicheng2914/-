#!MANAGED-CONFIG https://raw.githubusercontent.com/Zhicheng2914/Private/master/Surge/Ashton.conf?token=AEG7Q2TDCSWEJWLNT3PTASC6QGLTI

[General]
loglevel = notify
bypass-system = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,17.0.0.0/8,localhost,*.local,169.254.0.0/16,224.0.0.0/4,240.0.0.0/4
dns-server = system, 119.29.29.29, 119.28.28.28, 180.76.76.76, 1.2.4.8
replica = false
ipv6 = true
show-error-page-for-reject = true
exclude-simple-hostnames = true
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com
internet-test-url = http://www.aliyun.com
proxy-test-url = http://captive.rixcloud.io/generate_204
enhanced-mode-by-rule = false

[Replica]
hide-apple-request=true
hide-crashlytics-request=true
hide-udp=false
keyword-filter-type=false

[Proxy]
Direct = direct
ðŸ‡ºðŸ‡¸ CN2-GIA = ss, 173.242.119.193, 443, encrypt-method=chacha20-ietf-poly1305, password=zhicheng2914, udp-relay=true
ðŸ‡ºðŸ‡¸ HOSTKVM_HK= ss, 185.207.153.244, 443, encrypt-method=chacha20-ietf-poly1305, password=zhicheng2914, udp-relay=true
ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 2 = ss, hk2.edge.iplc.app, 17081, encrypt-method=chacha20-ietf-poly1305, password=PXKtVnqLmqxSCyulNBL, udp-relay=true
ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 3 = ss, hk3.edge.iplc.app, 17081, encrypt-method=chacha20-ietf-poly1305, password=PXKtVnqLmqxSCyulNBL, udp-relay=true
ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 3 = ss, us3.edge.iplc.app, 17081, encrypt-method=chacha20-ietf-poly1305, password=PXKtVnqLmqxSCyulNBL, udp-relay=true
ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 4 = ss, us4.edge.iplc.app, 17081, encrypt-method=chacha20-ietf-poly1305, password=PXKtVnqLmqxSCyulNBL, udp-relay=true
ðŸ‡­ðŸ‡° Hong Kong 5 = ss, mhpcium.nbclouds.co, 5610, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡­ðŸ‡° Hong Kong 6 = ss, mhpcium.nbclouds.co, 5611, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡­ðŸ‡° Hong Kong 18 = ss, mhpcium.nbclouds.co, 5751, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡­ðŸ‡° Hong Kong 19 = ss, mhpcium.nbclouds.co, 5752, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡ºðŸ‡¸ USA 8 = ss, mhpcium.nbclouds.co, 5627, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡ºðŸ‡¸ USA 9 = ss, mhpcium.nbclouds.co, 5630, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡ºðŸ‡¸ USA 12 = ss, rxnrrfq.nbclouds.co, 5639, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true
ðŸ‡ºðŸ‡¸ USA 13 = ss, rxnrrfq.nbclouds.co, 5641, encrypt-method=aes-128-gcm, password=nexitally, obfs=http, obfs-host=c09e47b59351417a.download.microsoft.com, udp-relay=true

[Proxy Group]
Proxy = select, ðŸ‡ºðŸ‡¸ CN2-GIA, ðŸ‡ºðŸ‡¸ HOSTKVM_HK , ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 2, ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 3, ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 3 , ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 4, ðŸ‡­ðŸ‡° Hong Kong 5, ðŸ‡­ðŸ‡° Hong Kong 6, ðŸ‡­ðŸ‡° Hong Kong 18, ðŸ‡­ðŸ‡° Hong Kong 19, ðŸ‡ºðŸ‡¸ USA 8, ðŸ‡ºðŸ‡¸ USA 9, ðŸ‡ºðŸ‡¸ USA 12, ðŸ‡ºðŸ‡¸ USA 13
Domestic = select, Direct, Proxy
Apple = select, Direct, Proxy
GlobalTV = select, Proxy, Direct, ðŸ‡ºðŸ‡¸ CN2-GIA, ðŸ‡ºðŸ‡¸ HOSTKVM_HK , ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 2, ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 3, ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 3 , ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 4, ðŸ‡­ðŸ‡° Hong Kong 5, ðŸ‡­ðŸ‡° Hong Kong 6, ðŸ‡­ðŸ‡° Hong Kong 18, ðŸ‡­ðŸ‡° Hong Kong 19, ðŸ‡ºðŸ‡¸ USA 8, ðŸ‡ºðŸ‡¸ USA 9, ðŸ‡ºðŸ‡¸ USA 12, ðŸ‡ºðŸ‡¸ USA 13
Speedtest = select, Proxy, Direct, ðŸ‡ºðŸ‡¸ CN2-GIA, ðŸ‡ºðŸ‡¸ HOSTKVM_HK , ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 2, ðŸ‡­ðŸ‡°é¦™æ¸¯é«˜çº§ BGP ä¸­ç»§ 3, ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 3 , ðŸ‡ºðŸ‡¸ç¾Žå›½é«˜çº§ BGP ä¸­ç»§ 4, ðŸ‡­ðŸ‡° Hong Kong 5, ðŸ‡­ðŸ‡° Hong Kong 6, ðŸ‡­ðŸ‡° Hong Kong 18, ðŸ‡­ðŸ‡° Hong Kong 19, ðŸ‡ºðŸ‡¸ USA 8, ðŸ‡ºðŸ‡¸ USA 9, ðŸ‡ºðŸ‡¸ USA 12, ðŸ‡ºðŸ‡¸ USA 13
Others = select, Proxy, Direct, Domestic

[Rule]
# User Define
IP-CIDR,17.0.0.0/8, DIRECT, no-resolve
IP-CIDR,1.1.1.1/24,DIRECT,no-resolve
RULE-SET,SYSTEM,DIRECT
RULE-SET,LAN,DIRECT
RULE-SET,https://raw.githubusercontent.com/Zhicheng2914/-/master/Surge_rules/Proxy.list,Proxy
RULE-SET,https://raw.githubusercontent.com/Zhicheng2914/-/master/Surge_rules/Domestic.list,Domestic

# lhie1
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/GlobalTV.list,GlobalTV
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Speedtest.list,Speedtest
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Proxy.list,Proxy
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Domestic.list,Domestic
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Apple.list,Apple
# URL-REGEX
URL-REGEX,(Subject|HELO|SMTP),DIRECT
URL-REGEX,(api|ps|sv|offnavi|newvector|ulog.imap|newloc)(.map|).(baidu|n.shifen).com,DIRECT
URL-REGEX,(.+.|^)(360|so|qihoo|360safe|qhimg|360totalsecurity|yunpan).(cn|com),DIRECT
URL-REGEX,(.+.)?(torrent|announce.php?passkey=|tracker|BitTorrent|bt_key|ed2k|find_node|get_peers|info_hash|magnet:|peer_id=|sandai|Thunder|XLLiveUD|xunlei)(..+)?,DIRECT

GEOIP,CN,DIRECT
FINAL,Others,dns-failed

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302
^https?://coupon.m.jd.com/ https://coupon.m.jd.com/ 302
^https?://h5.m.jd.com/ https://h5.m.jd.com/ 302
^https?://item.m.jd.com/ https://item.m.jd.com/ 302
^https?://m.jd.com/ https://m.jd.com/ 302
^https?://newcz.m.jd.com/ https://newcz.m.jd.com/ 302
^https?://p.m.jd.com/ https://p.m.jd.com/ 302
^https?://so.m.jd.com/ https://so.m.jd.com/ 302
^https?://www.jd.com/ https://www.jd.com/ 302
^https?://m.taobao.com/ https://m.taobao.com/ 302
^https?://.+.(m.)?wikipedia.org/wiki http://www.wikiwand.com/en 302
^https?://zh.(m.)?wikipedia.org/(zh-hans|zh-sg|zh-cn|zh(?=/)) http://www.wikiwand.com/zh 302
^https?://zh.(m.)?wikipedia.org/zh-[a-zA-Z]{2,} http://www.wikiwand.com/zh-hant 302
^https://nomo.dafork.com/api/v3/iap/ios_product_list https://files.catbox.moe/fgmkpy.json 302
^https?://cfg.m.ttkvod.com/mobile/ttk_mobile_1.8.txt http://ogtre5vp0.bkt.clouddn.com/Static/TXT/ttk_mobile_1.8.txt header
^https?://cnzz.com/ http://ogtre5vp0.bkt.clouddn.com/background.png? header
^https?://m.qu.la/stylewap/js/wap.js http://ogtre5vp0.bkt.clouddn.com/qu_la_wap.js 302
^https?://n.mark.letv.com/m3u8api/ http://burpsuite.applinzi.com/Interface header
^https?://sqimg.qq.com/ http://sqimg.qq.com/ 302
^https?://static.m.ttkvod.com/static_cahce/index/index.txt http://ogtre5vp0.bkt.clouddn.com/Static/TXT/index.txt header
^https?://www.iqshw.com/d/js/m http://burpsuite.applinzi.com/Interface header
^https?://www.iqshw.com/d/js/m http://rewrite.websocket.site:10/Other/Static/JS/Package.js? header

[Script]
http-response ^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|\!/photos/pic_recommend_status) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js
http-response ^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js
http-request ^https://mp\.weixin\.qq\.com/mp/getappmsgad script-path=https://Choler.github.io/Surge/Script/WeChat.js
http-request ^https://[\s\S]*\.googlevideo\.com/.*&(oad|ctier) script-path=https://Choler.github.io/Surge/Script/YouTube.js
http-response ^https://[\s\S]*\/aweme/v1/(feed|aweme/post|follow/feed)/ requires-body=1,max-size=-1,script-path=https://Choler.github.io/Surge/Script/Aweme.js
http-response ^https?://[a-z]*\.snssdk\.com/bds/feed/stream/ requires-body=1,max-size=-1,script-path=https://Choler.github.io/Surge/Script/Super.js
http-response ^https?://[\s\S]*\.snssdk\.com/api/news/feed/v88/ requires-body=1,max-size=-1,script-path=https://Choler.github.io/Surge/Script/Toutiao.js
http-request ^https://sp\.kaola\.com/api/openad$ script-path=https://Choler.github.io/Surge/Script/Kaola.js
http-response https://r\.inews\.qq.com\/get(QQNewsUnreadList|RecommendList) requires-body=1,max-size=-1,script-path=https://Choler.github.io/Surge/Script/QQNews.js
http-response ^https://api\.rr\.tv/v3plus/index/(channel|todayChoice)$ requires-body=1,max-size=-1,script-path=https://Choler.github.io/Surge/Script/RRad.js
http-response ^https://api.zhihu.com/moments\?(action|feed_type) requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20feed.js
http-response ^https://api.zhihu.com/topstory/recommend requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20recommend.js
http-response ^https://api.zhihu.com/v4/questions requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20answer.js
http-response ^https://api.zhihu.com/people/ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20people.js
http-response ^https://app.bilibili.com/x/v2/space\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20space.js
http-response ^https://app.bilibili.com/x/resource/show/tab\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20tab.js
http-response ^https://app.bilibili.com/x/v2/feed/index\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20feed.js
http-response ^https://app.bilibili.com/x/v2/account/mine\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20account.js
http-response ^https://app.bilibili.com/x/v2/view\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20view%20relate.js
http-response ^https://api.live.bilibili.com/xlive/app-room/v1/index/getInfoByRoom\?access_key requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20live.js
http-response ^https://api.bilibili.com/pgc/view/app/season requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/UnblockBangumi/master/surge/surge%20bilibili%20season.js
http-response ^https://api.bilibili.com/pgc/player/api/playurl requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/onewayticket255/UnblockBangumi/master/surge/surge%20bilibili%20playurl.js
http-request ^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D script-path=https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
http-response ^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
http-response ^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js
http-response ^https://trade-acs.m.taobao.com/gw/mtop.taobao.detail.getdetail requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js
